!function(n){n.fn.passwordStrength=function(t){t=n.extend({},n.fn.passwordStrength.defaults,t),this.each(function(){var r=n(this),s=0,e=!1,a=n(this).parents("form").find(".passwordStrength");r.bind("keyup blur",function(){s=n.fn.passwordStrength.ratepasswd(r.val(),t),s>=0&&0==e&&(e=!0),a.find("span").removeClass("bgStrength"),s<35&&s>=0?a.find("span:first").addClass("bgStrength"):s<60&&s>=35?a.find("span:lt(2)").addClass("bgStrength"):s>=60&&a.find("span:lt(3)").addClass("bgStrength"),e&&(r.val().length<t.minLen||r.val().length>t.maxLen)?t.showmsg(r,r.attr("errormsg"),3):e&&t.showmsg(r,"",2),t.trigger(r,!(s>=0))})})},n.fn.passwordStrength.ratepasswd=function(t,r){var s,e=t.length;return s=e>=r.minLen&&e<=r.maxLen?n.fn.passwordStrength.checkStrong(t):-1,s/4*100},n.fn.passwordStrength.checkStrong=function(t){for(var r=0,s=t.length,e=0;e<s;e++)r|=n.fn.passwordStrength.charMode(t.charCodeAt(e));return n.fn.passwordStrength.bitTotal(r)},n.fn.passwordStrength.charMode=function(n){return n>=48&&n<=57?1:n>=65&&n<=90?2:n>=97&&n<=122?4:8},n.fn.passwordStrength.bitTotal=function(n){for(var t=0,r=0;r<4;r++)1&n&&t++,n>>>=1;return t},n.fn.passwordStrength.defaults={minLen:0,maxLen:30,trigger:n.noop}}(jQuery);