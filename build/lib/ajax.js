define("lib/ajax",function(e,t,n){function o(e,t){var n=e;for(var o in t)n[o]=t[o];return e}function i(e,t){var n=this;e=o(t,e),n._success=e.success,n._error=e.error,n._complete=e.complete,0!=e.url.indexOf("http://")&&(e.url=a+e.url),e.data||(e.data={}),"POST"==e.type&&"application/json"==e.contentType&&(e.data=JSON.stringify(e.data)),e.success=function(t,o,i){if(e.loading&&r.loading.exist()&&r.loading.hide(),t&&t.responseCode&&10212==t.responseCode&&!e.noLogin){var a=location.pathname,s="";a.indexOf("sdw/")!=-1&&(s="/sdw");var d=location.href;return void(location.href=s+"/user/login.html?page=new-app-page&redirect="+encodeURIComponent(d))}n._success&&n._success(t,o,i)},e.error=function(t,o,i){r.alert("系统异常","error"),e.loading&&r.loading.exist()&&r.loading.hide(),n._error&&n._error(t,o,i)},e.loading&&!r.loading.exist()&&r.loading.show(),$.ajax(e)}var r=e("lib/util"),a=(location.host,"http://");a+="api.tiaozaoj.com/";var s={post:function(e){return new i(e,{type:"POST",contentType:"application/json",dataType:"json",xhrFields:{withCredentials:!0},timeout:15e3})},get:function(e){return new i(e,{type:"GET",dataType:"json",xhrFields:{withCredentials:!1},timeout:15e3})},jsonp:function(e){return new i(e,{type:"GET",dataType:"jsonp",xhrFields:{withCredentials:!0},timeout:15e3})},form:function(e){return new i(e,{type:"POST",dataType:"json",xhrFields:{withCredentials:!0},timeout:15e3})}};n.exports=s});