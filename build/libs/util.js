define("lib/util",function(e,n,t){var r="webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",a={getUrlParam:function(e){var n={},t=location.search.substr(1).split("&");for(i in t){var r=t[i].indexOf("=");-1!=r&&(n[t[i].substr(0,r)]=decodeURIComponent(t[i].substr(r+1,t[i].length)))}return n[e]},portPrefix:function(){var e="http://",n=location.host;return e+=/gray/.test(n)?"gray.":/daily|dev/.test(n)?"daily.":"",e+="manage.51xianqu.com/"},getLionPrefix:function(){var e=location.host;return/gray/.test(e)?"http://gray.m.52shangou.com/":/daily|dev/.test(e)?"http://gray.m.52shangou.com/":"http://h5.m.52shangou.com/"},htmlspecialchars:function(e){var n={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;","&":"&amp;"};return e.replace(/[><&"']/g,function(e){return n[e]})},_prefixStyle:function(e){var n=document.createElement("div").style,t=function(){for(var e,t=["t","webkitT","MozT","msT","OT"],i=0,r=t.length;i<r;i++)if(e=t[i]+"ransform",e in n)return t[i].substr(0,t[i].length-1);return!1}();return t!==!1&&(""===t?e:t+e.charAt(0).toUpperCase()+e.substr(1))},alert:function(e,n,t,i){var r=this,a=" com-alert-"+(n||"ok");t=t||1200;var o=['<div class="com-alert-wrap'+a+'" id="J_alert">','<div class="com-alert">'+e+"</div>","</div>"].join("");$(o).appendTo("body"),$("#J_alert .com-alert")[0].style[r._prefixStyle("animationDuration")]=t+"ms",setTimeout(function(){$("#J_alert").remove(),i&&i()},t)},confirm:function(e,n,t){var i=['<div class="confirm-wrap confirm-in" id="J_confirm">','<div class="confirm-main">','<div class="confirm-inner">',e,"</div>",'<div class="confirm-btns">','<a href="javascript:;" class="confirm-ok btn-ok">'+(n?n:"确定")+"</a>","</div>",'<a href="javascript:;" class="confirm-close"></a>',"</div>",'<div class="confirm-bg"></div>',"</div>"].join("");$(i).appendTo("body");var r=$("#J_confirm");r.on("click",".confirm-bg,.confirm-close",function(){r.addClass("confirm-out"),setTimeout(function(){r.remove()},400)}).on("click",".confirm-ok",function(){t&&(t(),r.addClass("confirm-out"),setTimeout(function(){r.remove()},400))})},loading:{show:function(){$(['<div id="J_spinner" class="spinner-loading">            <div class="spinner-item"></div>            <div class="spinner-item"></div>            <div class="spinner-item"></div>            <div class="spinner-item"></div>            <div class="spinner-item"></div>            <div class="spinner-item"></div>            <div class="spinner-item"></div>            <div class="spinner-item"></div>          </div>'].join("")).appendTo("body")},hide:function(){$("#J_spinner").remove()},exist:function(){return $("#J_spinner").length>0}},getCookie:function(e){var n,t=new RegExp("(^| )"+e+"=([^;]*)(;|$)");if(n=document.cookie.match(t))return n[2]},getPrefix:function(){var e=location.pathname,n="";return e.indexOf("/sdw/")!=-1&&(n="/sdw"),n},login:{isLogin:function(){var e=a.getCookie("_uk"),n=a.getCookie("_cs");return!(!e||!n)},goLogin:function(){var e=a.getPrefix();window.refreshPage=function(){location.reload()},location.href=e+"/user/login.html?page=new-app-page&needBack=false&redirect="+encodeURIComponent(location.href)}},formatMobile:function(e,n){var t=/^(\d{3})(\d{4})(\d{4})$/;return e+="",n=n||"-",t.test(e)?e.replace(t,"$1"+n+"$2"+n+"$3"):e},getDayStartAndEnd:function(e){var n,t=this,i=864e5,r=t.formatDate("YYYY-MM-DD",e,"/");return n=+new Date(r+" 00:00:00"),{startTime:n,endTime:n+i}},formatDate:function(e,n,t){var i="",r=n?new Date(n):new Date,a=r.getFullYear(),o=r.getMonth()+1<10?"0"+(r.getMonth()+1):r.getMonth()+1,s=r.getDate()<10?"0"+r.getDate():r.getDate(),c=r.getHours()<10?"0"+r.getHours():r.getHours(),d=r.getMinutes()<10?"0"+r.getMinutes():r.getMinutes(),u=r.getSeconds()<10?"0"+r.getSeconds():r.getSeconds(),l=t;switch(t||(t="-"),e){case"Ch-zh":i=a+"年"+o+"月"+s+"日";break;case"Ch-zh-MM-DD":i=o+"月"+s+"日";break;case"YYYY-MM-DD HH:mm:ss":i=a+t+o+t+s+" "+c+":"+d+":"+u;break;case"YYYY-MM-DD":i=a+t+o+t+s;break;case"MM-DD":i=o+t+s;break;case"HH:mm":i=c+(l?l:":")+d;break;default:i=r}return i},formatSeg:function(e){return e+="",e.replace(/(\d)(?=(\d{3})+\b)/g,"$1,")},formatPrice:function(e,n,t,i){var r,a,o,s,c=!1;for(e||(e=0),n=n>=0&&n<=20?n:2,e<0&&(c=!0,e=Math.abs(e)),e=parseFloat(e/100).toFixed(n),r=e.split("."),a=(r[0]||0).toString(),o=(r[1]||"").toString(),s="";a.length>3;)s=","+a.slice(-3)+s,a=a.slice(0,a.length-3);return a&&(s=a+s),o&&(s+="."+o),t&&(s=t+s),c&&(i||(i="-"),s=i+s),s},formatCardNum:function(e){e=e.toString();var n=e.slice(0,4),t=e.slice(e.length-4,e.length),i="";return i=n+"****"+t},buildQuery:function(e,n,t){var i,r="";t||(r+="&page=new-app-page");for(i in n)n.hasOwnProperty(i)&&(r+="&"+i+"="+encodeURIComponent(n[i]));return r=t&&!Object.keys(n)?e:e+"?"+r.slice(1)},substitute:function(e,n){return e.replace(/{(.*?)}/gim,function(e,t){return n[t]?n[t]:""})},shopBigPic:function(e){var n='<div class="bigpic-mask animated fadeIn"><div class="bigpic-bg"></div><img class="bigpic-img" src="{src}" alt="" /></div>',t=$(this.substitute(n,{src:e}));t.appendTo("body").find(".bigpic-bg").on("tap",function(){t.removeClass("fadeIn").addClass("fadeOut"),t.one(r,function(){t.remove()})})},setInputRight:function(e){var n;e.forEach(function(e){n=e.val(),e.val(""),e.val(n)})},getEnv:function(e){var n=location.host,t=e?"":"www";return/daily|dev/.test(n)?t="daily":/gray/.test(n)&&(t="gray"),t},getObjKey:function(e,n){var t;for(t in e)if(e.hasOwnProperty(t)&&e[t]===n)return t;return!1}};t.exports=a});