<!DOCTYPE HTML><html><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8"><title>UMEDITOR 完整demo</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><link href="//loumingjie.cn/crm/build/libs/umeditor/themes/default/css/umeditor.css" rel="stylesheet"><script charset="utf-8" src="//loumingjie.cn/crm/build/libs/umeditor/third-party/jquery.min.js"></script><script charset="utf-8" src="//loumingjie.cn/crm/build/libs/umeditor/umeditor.config.js"></script><script charset="utf-8" src="//loumingjie.cn/crm/build/libs/umeditor/umeditor.min.js"></script><script charset="utf-8" src="//loumingjie.cn/crm/build/libs/umeditor/lang/zh-cn/zh-cn.js"></script><style>h1{font-family:"微软雅黑";font-weight:400}.btn{display:inline-block;padding:4px 12px;margin-bottom:0;font-size:14px;line-height:20px;color:#333;text-align:center;text-shadow:0 1px 1px rgba(255,255,255,.75);vertical-align:middle;cursor:pointer;background-color:#f5f5f5;background-image:-moz-linear-gradient(top,#fff,#e6e6e6);background-image:-webkit-gradient(linear,0 0,0 100%,from(#fff),to(#e6e6e6));background-image:-webkit-linear-gradient(top,#fff,#e6e6e6);background-image:-o-linear-gradient(top,#fff,#e6e6e6);background-image:linear-gradient(to bottom,#fff,#e6e6e6);background-repeat:repeat-x;border:1px solid #ccc;border-color:#e6e6e6 #e6e6e6 #bfbfbf;border-color:rgba(0,0,0,.1) rgba(0,0,0,.1) rgba(0,0,0,.25);border-bottom-color:#b3b3b3;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px;filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#ffffffff', endColorstr='#ffe6e6e6', GradientType=0);filter:progid:DXImageTransform.Microsoft.gradient(enabled=false);-webkit-box-shadow:inset 0 1px 0 rgba(255,255,255,.2),0 1px 2px rgba(0,0,0,.05);-moz-box-shadow:inset 0 1px 0 rgba(255,255,255,.2),0 1px 2px rgba(0,0,0,.05);box-shadow:inset 0 1px 0 rgba(255,255,255,.2),0 1px 2px rgba(0,0,0,.05)}.btn.active,.btn.disabled,.btn:active,.btn:focus,.btn:hover,.btn[disabled]{color:#333;background-color:#e6e6e6}.btn.active,.btn:active{background-color:#ccc\9}.btn:focus,.btn:hover{color:#333;text-decoration:none;background-position:0 -15px;-webkit-transition:background-position .1s linear;-moz-transition:background-position .1s linear;-o-transition:background-position .1s linear;transition:background-position .1s linear}.btn:focus{outline:thin dotted #333;outline:5px auto -webkit-focus-ring-color;outline-offset:-2px}.btn.active,.btn:active{background-image:none;outline:0;-webkit-box-shadow:inset 0 2px 4px rgba(0,0,0,.15),0 1px 2px rgba(0,0,0,.05);-moz-box-shadow:inset 0 2px 4px rgba(0,0,0,.15),0 1px 2px rgba(0,0,0,.05);box-shadow:inset 0 2px 4px rgba(0,0,0,.15),0 1px 2px rgba(0,0,0,.05)}.btn.disabled,.btn[disabled]{cursor:default;background-image:none;opacity:.65;filter:alpha(opacity=65);-webkit-box-shadow:none;-moz-box-shadow:none;box-shadow:none}</style></head><body><h1>UMEDITOR 完整demo</h1><script type="text/plain" id="myEditor" style="width:1000px;height:240px"><p>这里我可以写一些输入提示</p></script><div class="clear"></div><div id="btns"><table><tr><td><button class="btn" unselected="on" onclick="getAllHtml()">获得整个html的内容</button>&nbsp; <button class="btn" onclick="getContent()">获得内容</button>&nbsp; <button class="btn" onclick="setContent()">写入内容</button>&nbsp; <button class="btn" onclick="setContent(!0)">追加内容</button>&nbsp; <button class="btn" onclick="getContentTxt()">获得纯文本</button>&nbsp; <button class="btn" onclick="getPlainTxt()">获得带格式的纯文本</button>&nbsp; <button class="btn" onclick="hasContent()">判断是否有内容</button></td></tr><tr><td><button class="btn" onclick="setFocus()">编辑器获得焦点</button>&nbsp; <button class="btn" onmousedown="return isFocus(),!1">编辑器是否获得焦点</button>&nbsp; <button class="btn" onclick="doBlur()">编辑器取消焦点</button>&nbsp; <button class="btn" onclick="insertHtml()">插入给定的内容</button>&nbsp; <button class="btn" onclick="getContentTxt()">获得纯文本</button>&nbsp; <button class="btn" id="enable" onclick="setEnabled()">可以编辑</button>&nbsp; <button class="btn" onclick="setDisabled()">不可编辑</button></td></tr><tr><td><button class="btn" onclick='UM.getEditor("myEditor").setHide()'>隐藏编辑器</button>&nbsp; <button class="btn" onclick='UM.getEditor("myEditor").setShow()'>显示编辑器</button>&nbsp; <button class="btn" onclick='UM.getEditor("myEditor").setHeight(300)'>设置编辑器的高度为300</button>&nbsp; <button class="btn" onclick='UM.getEditor("myEditor").setWidth(1200)'>设置编辑器的宽度为1200</button></td></tr></table></div><table><tr><td><button class="btn" onclick="createEditor()">创建编辑器 <button class="btn" onclick="deleteEditor()">删除编辑器</td></tr></table><div><h3 id="focush2"></h3></div><script>function insertHtml(){var t=prompt("插入html代码","");um.execCommand("insertHtml",t)}function isFocus(){alert(um.isFocus())}function doBlur(){um.blur()}function createEditor(){enableBtn(),um=UM.getEditor("myEditor")}function getAllHtml(){alert(UM.getEditor("myEditor").getAllHtml())}function getContent(){var t=[];t.push("使用editor.getContent()方法可以获得编辑器的内容"),t.push("内容为："),t.push(UM.getEditor("myEditor").getContent()),alert(t.join("\n"))}function getPlainTxt(){var t=[];t.push("使用editor.getPlainTxt()方法可以获得编辑器的带格式的纯文本内容"),t.push("内容为："),t.push(UM.getEditor("myEditor").getPlainTxt()),alert(t.join("\n"))}function setContent(t){var e=[];e.push("使用editor.setContent('欢迎使用umeditor')方法可以设置编辑器的内容"),UM.getEditor("myEditor").setContent("欢迎使用umeditor",t),alert(e.join("\n"))}function setDisabled(){UM.getEditor("myEditor").setDisabled("fullscreen"),disableBtn("enable")}function setEnabled(){UM.getEditor("myEditor").setEnabled(),enableBtn()}function getText(){var t=UM.getEditor("myEditor").selection.getRange();t.select();var e=UM.getEditor("myEditor").selection.getText();alert(e)}function getContentTxt(){var t=[];t.push("使用editor.getContentTxt()方法可以获得编辑器的纯文本内容"),t.push("编辑器的纯文本内容为："),t.push(UM.getEditor("myEditor").getContentTxt()),alert(t.join("\n"))}function hasContent(){var t=[];t.push("使用editor.hasContents()方法判断编辑器里是否有内容"),t.push("判断结果为："),t.push(UM.getEditor("myEditor").hasContents()),alert(t.join("\n"))}function setFocus(){UM.getEditor("myEditor").focus()}function deleteEditor(){disableBtn(),UM.getEditor("myEditor").destroy()}function disableBtn(t){for(var e,n=document.getElementById("btns"),o=domUtils.getElementsByTagName(n,"button"),i=0;e=o[i++];)e.id==t?domUtils.removeAttributes(e,["disabled"]):e.setAttribute("disabled","true")}function enableBtn(){for(var t,e=document.getElementById("btns"),n=domUtils.getElementsByTagName(e,"button"),o=0;t=n[o++];)domUtils.removeAttributes(t,["disabled"])}var um=UM.getEditor("myEditor");um.addListener("blur",function(){$("#focush2").html("编辑器失去焦点了")}),um.addListener("focus",function(){$("#focush2").html("")})</script></body></html>